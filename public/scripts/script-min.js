let sliderElem;const btnBurger1=$("#burger1"),btnTopElem=$("#burger1 .burger__elem_top"),btnMiddleElem=$("#burger1 .burger__elem_middle"),btnBottomElem=$("#burger1 .burger__elem_bottom"),mobileMenu=$(".header__mobile-menu");btnBurger1.on("click",function(){return $(this).hasClass("burger_closed")?(btnTopElem.animate(),btnMiddleElem.animate({opacity:0},{duration:100}),btnBottomElem.animate(),mobileMenu.addClass("header__mobile-menu_open"),sliderElem.pause(),void $(this).animate().removeClass("burger_closed").addClass("burger_opened")):$(this).hasClass("burger_opened")?(btnTopElem.animate(),btnMiddleElem.animate({opacity:1}),btnBottomElem.animate(),mobileMenu.removeClass("header__mobile-menu_open"),sliderElem.play(),void $(this).animate().removeClass("burger_opened").addClass("burger_closed")):void 0}),setTimeout(()=>{$(".slider__item_sec").css("display","flex"),(sliderElem=new Glide(".glide",{type:"carousel",autoplay:3e3})).mount()},500),$(".header").on("click",e=>{e.target.closest(".glide__slide")&&(btnTopElem.animate(),btnMiddleElem.animate({opacity:1}),btnBottomElem.animate(),mobileMenu.removeClass("header__mobile-menu_open"),sliderElem.play(),btnBurger1.animate().removeClass("burger_opened").addClass("burger_closed"))});const btnNextSlide=document.querySelector(".header__btn_right");btnNextSlide.addEventListener("mousedown",function(){this.classList.add("header__btn_active")}),btnNextSlide.addEventListener("mouseup",function(){this.classList.remove("header__btn_active")}),btnNextSlide.addEventListener("touchstart",function(){this.classList.add("header__btn_active")}),btnNextSlide.addEventListener("touchend",function(){this.classList.remove("header__btn_active")});const btnPrevSlide=document.querySelector(".header__btn_right");btnPrevSlide.addEventListener("mousedown",function(){this.classList.add("header__btn_active")}),btnPrevSlide.addEventListener("mouseup",function(){this.classList.remove("header__btn_active")}),btnPrevSlide.addEventListener("touchstart",function(){this.classList.add("header__btn_active")}),btnPrevSlide.addEventListener("touchend",function(){this.classList.remove("header__btn_active")});let goodsSlider=new Glide(".glide_2",{type:"carousel",perView:1}).mount(),isSliderExist=!0,mixer=mixitup(".goods__list-sort");const goodsList=$(".goods__list_slides"),btnGoddsNext=$(".goods__next"),listForSorting=$(".goods__list-sort"),filtersBtnsContainer=$(".filters");currentActiveFilter=$(".filters__item_active"),filtersBtnsContainer.on("click",e=>{var t=$(e.target);if("UL"==t.prop("tagName"))return;"BUTTON"==t.prop("tagName")&&(t=t.parent()),currentActiveFilter.removeClass("filters__item_active"),t.addClass("filters__item_active"),currentActiveFilter=t;let o=t.prop("id");return isSliderExist&&"goods-all"==o?void 0:"goods-all"==o&&0==isSliderExist?(goodsSlider=new Glide(".glide_2",{type:"carousel"}).mount(),goodsList.removeClass("goods__list_inactive"),listForSorting.addClass("goods__list-sort_inactive"),isSliderExist=!0,void btnGoddsNext.css("display","block")):void(isSliderExist&&(goodsSlider.destroy(),goodsSlider=null,isSliderExist=!1,btnGoddsNext.css("display","none"),goodsList.addClass("goods__list_inactive"),listForSorting.removeClass("goods__list-sort_inactive")))});const navBar=$(".nav");navBar.on("click",e=>{let t=$(e.target);"A"==t.prop("tagName")&&e.preventDefault();let o=t.attr("data-scroll"),s=$(`#${o}`).offset().top;$("html, body").animate({scrollTop:s},500)});const popup=$(".popup"),popupBox=$(".popup__box"),popupBtn=$(".cooperation__btn");$(".cooperation__btn").on("click",e=>{e.preventDefault();let t=$(window).scrollTop();popup.removeClass("popup_close").addClass("popup_active"),popupBox.css("transform",`translateY(${t}px)`)});const closePopupBtn=$(".popup__close");closePopupBtn.on("click",()=>{popup.removeClass("popup_active").addClass("popup_close")}),popup.on("click",e=>{if($(e.target).hasClass("popup__box")||$(e.target).hasClass("popup")){popup.removeClass("popup_active").addClass("popup_close");let e=$(window).scrollTop()+100;popupBox.css("transform",`translateY(-${e}vh)`)}}),$(".slider__link").on("click",e=>{e.preventDefault(),openPopup()});const popupForm=$(".popup__form");let heightChildrenInPopupForm=0;popupForm.children().each(function(){heightChildrenInPopupForm+=$(this).height()});const popupListHeight=$(".popup__list").height();heightChildrenInPopupForm-=popupListHeight;const popupContainerHeight=$(".popup__container").height();$(".popup__list").height((popupContainerHeight-heightChildrenInPopupForm)/2);const chkAgree=$(".popup__wrap_agree"),labelAgree=$(".popup__agree-label"),listWithChk=$(".popup__list");function openPopup(){let e=$(window).scrollTop();popup.removeClass("popup_close").addClass("popup_active"),popupBox.css("transform",`translateY(${e}px)`)}function removePopup(e){e.remove(),e.insertBefore($(".popup__item:first-child")),e.find(".popup__label").addClass("popup__label_active")}function animateBall(e,t,o=1){let s=t.height()/2,i=t.offset().top-$(window).scrollTop();$(window).scrollTop()>s*o+i&&(e.css("transform","translateY(0px)"),e.css("opacity","1"))}function checkPhone(){console.log(1);let e=/^((\+?7|8)[ \-] ?)?((\(\d{3}\))|(\d{3}))?([ \-])?(\d{3}[\- ]?\d{2}[\- ]?\d{2})$/,t=$("#user-tel");t.on("blur",function(){console.log(2),e.test($(this).val())||($(this).addClass("input__error"),$(".popup__btn").attr("disabled",!0))}),t.on("focus",function(){console.log(3),$(this).hasClass("input__error")&&($(this).removeClass("input__error"),$(".popup__btn").attr("disabled",!1))})}chkAgree.on("click",function(e){let t=$(e.target);"DIV"!=t.prop("tagName")&&(t=t.closest(".popup__wrap_agree"));let o=t.find(".popup__agree-label");o.hasClass("popup__agree-label_active")?(o.removeClass("popup__agree-label_active"),listWithChk.addClass("popup__list_inactive"),$(".popup__label_active").each(function(e){$(this).removeClass("popup__label_active")})):(o.addClass("popup__agree-label_active"),listWithChk.removeClass("popup__list_inactive"))}),listWithChk.on("click",function(e){if($(this).hasClass("popup__list_inactive"))return;let t=$(e.target);"LI"!=t.prop("tagName")&&(t=t.closest(".popup__item"));let o=t.find(".popup__label");o.hasClass("popup__label_active")?o.removeClass("popup__label_active"):o.addClass("popup__label_active")}),goodsList.on("click",e=>{let t=$(e.target);"UL"!=t.prop("tagName")&&(t.hasClass("goods__item")||(t=t.closest(".goods__item")),openPopup(),$(".popup__label_active").each(function(){$(this).removeClass("popup__label_active")}),listWithChk.children().each(function(){$(this).attr("id")==t.attr("data-type")&&removePopup($(this))}))}),listForSorting.on("click",e=>{let t=$(e.target);"UL"!=t.prop("tagName")&&(t.hasClass("goods__item")||(t=t.closest(".goods__item")),openPopup(),checkPhone(),$(".popup__label_active").each(function(){$(this).removeClass("popup__label_active")}),listWithChk.children().each(function(){$(this).attr("id")==t.attr("data-type")&&removePopup($(this))}))}),$(window).on("scroll",()=>{animateBall($(".about__content"),$(".header")),animateBall($(".plotter__info"),$(".goods"),7),animateBall($(".delivery__info"),$(".plotter"),22)});